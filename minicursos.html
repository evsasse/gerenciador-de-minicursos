<head>
  <title>Cadastro para Minicursos</title>
  <link href='http://fonts.googleapis.com/css?family=Roboto:500,700,400'
    rel='stylesheet' type='text/css'>
</head>

<body>
  <div class="header">
    {{> loginButtons}}
  </div>
  <div class="content">
  {{> formInscricao}}
  {{#if isAdmin}}
    {{> formEditCursos}}
    {{> formAdmin}}
  {{/if}}
  </div>
</body>

<template name="formInscricao">
  {{#if cursos}}
    <form>
      <h2>Cadastro para Minicursos</h2>
      <input type="text" placeholder="Nome" required>
      <input type="text" placeholder="CPF - 01234567890" pattern="[0-9]{11}"
        value="" title="Preencha no formato '12312312312', ou deixe em branco">
      <input type="email" placeholder="Email" required>
      <ul class="cursos">
        {{#each cursos}}
          <li class="curso_inscricao">
          {{> cursoInscricao}}
          </li>
        {{/each}}
      </ul>
      {{> reCAPTCHA}}
      <input type="submit" value="ENVIAR">
    </form>
  {{else}}
    <h1>Não há minicursos disponíveis no momento :(</h1>
  {{/if}}
</template>

<template name="cursoInscricao">
  <input type="checkbox" id="{{_id}}"><label for="{{_id}}">{{nome}}</label>
  <p class="additional_info">
    {{additional_info}}
  </p>
</template>

<template name="formEditCursos">
  <form>
    <h2>Confirmação, Pagamento e Presença</h2>
    <ul>
    {{#each cursos}}
      <li class="curso_edicao">
        {{> cursoEdicao}}
      </li>
    {{/each}}
    </ul>
  </form>
</template>

<template name="cursoEdicao">
  {{nome}}
</template>

<template name="formAdmin">
  <form>
    <h2>Administradores</h2>
    <ul class="users">
    {{#each users}}
      {{> user}}
    {{/each}}
    </ul>
  </form>
</template>

<template name="user">
  <li>
    <div>
      <h3>{{services.google.name}}</h3>
      <p class="additional_info">{{services.google.email}}</p>
    </div>
    <div class="controls">
      {{#if admin}}
      <input type="checkbox" id="{{_id}}" checked>
      {{else}}
      <input type="checkbox" id="{{_id}}">
      {{/if}}
      <label class="admin_checkbox" for="{{_id}}"></label>
    </div>
  </li>
</template>
